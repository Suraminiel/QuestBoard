@model QuestBoard.Models.ViewModes.AccountData
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger  alert-dismissible fade show">
        @TempData["ErrorMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
}
@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success alert-dismissible fade show">
        @TempData["SuccessMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
}

<div class="py-2 mb-2 siteHeader d-flex">
    <div class="container">
        <h2>Profil Settings</h2>
    </div>

</div>

<div class="container statusPageContainer  mb-3 ">
    <div class="statusPageHeader mb-3">

        In this section you can update your account information or delete your account.

    </div>

    <div class="statusPageSidebar">
        <form action="/Account/UploadPicture" method="post" id="uploadForm" enctype="multipart/form-data">
            <h2 class="mb-4 ">Upload a Profil Picture</h2>
            <img class="mb-4 round-img" src="@Model.profilPicturePath" alt="Profil Picture" />

            <input type="file" id="picture" class="form-control bg-dark text-light mb-3 " name="picture" />
            <button class="btn btn-light" type="submit" id="btn_upload" >Upload</button>
            <a class="btn btn-light" type="button" id="deletePic" asp-area="" asp-controller="Account" asp-action="DeletePic">Delete Picture</a>
       </form>
    </div>

    <div class="main">

        <form action="/Account/ProfilSettings" method="post">
            <div class="mb-3">
                <label class="form-label">Name</label>
                <span class="text-danger" asp-validation-for="name"></span>
                <input type="text" class="form-control bg-dark text-light" asp-for="name" id="Name" required />
                <input type="hidden" class="form-control bg-dark text-light" asp-for="id" id="id" />
            </div>

            <div class="mb-3">
                <label class="form-label">Email</label>
                <span class="text-danger" asp-validation-for="email"></span>
                <input type="text" class="form-control bg-dark text-light" asp-for="email" id="Email" required />
            </div>

            <div class="mb-3">
                <label class="form-label">Password</label>
                <span class="text-danger" asp-validation-for="password"></span>
                <input type="password" class="form-control bg-dark text-light mb-3"  asp-for="password" id="Password" required />
                <label class="form-label">New Password</label>
                <input type="password" class="form-control bg-dark text-light mb-3" " asp-for="newPassword" id="newPassword" />
                <label class="form-label">New Password Confirmation</label>
                <input type="password" class="form-control bg-dark text-light" asp-for="newPasswordConfirm" id="newPasswordConfirm" />
            </div>
            <button class="btn btn-success" type="submit">Save</button>
        </form>

        <div class="border border-danger rounded mt-5">
            <h5 class="text-bg-danger mb-3">Danger Zone</h5>
            <p> To delete your Account type "DELETE" and press the button </p>
            <form action="/Account/DeleteAccount" method="post">
                  <div class="d-flex">
                        <button class="btn btn-danger me-3" type="submit">Delete</button>
                        <input class="form-control bg-dark text-light" type="text"  placeholder="Type DELETE" value="" asp-for="deleteConfirmation" />
                  </div>
            </form>
            
        </div>
    </div>
</div>

@section Scripts{
    <script>

    </script>
}
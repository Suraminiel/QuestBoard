@model List<QuestBoard.Models.ViewModes.TaskOverview>
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<div class="py-2 mb-5" id="siteHeader">
    <div class="container">
        <h2>Open Tasks</h2>
    </div>
</div>

<div class="container">
    @if(Model != null && Model.Any())
    {
        <table class="table table-dark">
            <thead>
                <tr>
                   
                    <th>Name</th>
                    <th>Tags</th>
                    <th>Assigned Workers</th>
                    <th>Progress</th>
                    <th>Priority</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach(var JobTask in Model)
                {
                    <tr>
                        
                        <td>@JobTask.Name</td>
                        <td>
                            <div class="d-flex">
                                @foreach(var tag in JobTask.Tags)
                                {
                                    <span class="badge bg-body-secondary text-dark me-1">@tag.Name</span>
                                }
                            </div>
                        </td>
                        <td>Worker 1</td>
                        <td>
                            <div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-bar bg-success " style="width: @JobTask.progress%">@JobTask.progress%</div>
                                <!--adde diese klassen zur progress-bar: progress-bar-striped progress-bar-animated-->
                            </div>
                        </td>

                        <td>@JobTask.Priority</td>

                        <td>
                            <a asp-area=""
                               asp-controller="Quest"
                               asp-action="Edit"
                               asp-route-id="@JobTask.Id">
                                Open
                            </a>
                        </td>
                    </tr>
                }
               
            </tbody>

        </table>
    }
    else
    {
        <p>nothing found!</p>
    }

   
</div>